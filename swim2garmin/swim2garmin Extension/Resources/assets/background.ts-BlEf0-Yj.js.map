{"version":3,"file":"background.ts-BlEf0-Yj.js","sources":["../../src/background.ts"],"sourcesContent":["chrome.runtime.onMessage.addListener(\n  (\n    request: {\n      action: string;\n      data: { token: string; trainingId: string; trainingData: any };\n    },\n    sender: chrome.runtime.MessageSender,\n    sendResponse: (response: {\n      success: boolean;\n      data?: any;\n      error?: any;\n    }) => void\n  ) => {\n    if (request.action === \"editTraining\") {\n      const { token, trainingId, trainingData } = request.data;\n\n      fetch(\n        `https://connect.garmin.com/workout-service/workout/${trainingId}`,\n        {\n          headers: {\n            accept: \"application/json, text/plain, */*\",\n            authorization: `Bearer ${token}`,\n            \"content-type\": \"application/json;charset=UTF-8\",\n            \"di-backend\": \"connectapi.garmin.com\",\n          },\n          body: JSON.stringify(trainingData),\n          method: \"PUT\",\n        }\n      )\n        .then((response) => {\n          if (response.status === 204) {\n            return null;\n          }\n          return response.json();\n        })\n        .then((data) => {\n          sendResponse({ success: true, data });\n        })\n        .catch((error) => {\n          sendResponse({ success: false, error });\n        });\n\n      return true; // Indicates that the response is sent asynchronously\n    }\n  }\n);\n"],"names":["request","sender","sendResponse","token","trainingId","trainingData","response","data","error"],"mappings":"AAAA,OAAO,QAAQ,UAAU,YACvB,CACEA,EAIAC,EACAC,IAKG,CACH,GAAIF,EAAQ,SAAW,eAAgB,CACrC,KAAM,CAAE,MAAAG,EAAO,WAAAC,EAAY,aAAAC,CAAA,EAAiBL,EAAQ,KAEpD,aACE,sDAAsDI,CAAU,GAChE,CACE,QAAS,CACP,OAAQ,oCACR,cAAe,UAAUD,CAAK,GAC9B,eAAgB,iCAChB,aAAc,uBAAA,EAEhB,KAAM,KAAK,UAAUE,CAAY,EACjC,OAAQ,KAAA,CACV,EAEC,KAAMC,GACDA,EAAS,SAAW,IACf,KAEFA,EAAS,KAAA,CACjB,EACA,KAAMC,GAAS,CACdL,EAAa,CAAE,QAAS,GAAM,KAAAK,CAAA,CAAM,CAAA,CACrC,EACA,MAAOC,GAAU,CAChBN,EAAa,CAAE,QAAS,GAAO,MAAAM,CAAA,CAAO,CAAA,CACvC,EAEI,EAAA,CACT,CAEJ"}